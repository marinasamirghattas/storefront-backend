# Storefront Backend Project
Store front project contains a RESTful APIs in Nodejs for an online store.


## Technologies
The application uses the following libraries:
- Postgres for the database
- Node/Express for the application logic
- dotenv from npm for managing environment variables
- db-migrate from npm for migrations
- jsonwebtoken from npm for working with JWTs
- jasmine and Supertest from npm for testing
-Language: TypeScript


## Getting Started

- Install: `npm install`
- create database: `db-migrate up`
- Build: `npm run build`
- Lint: `npm run lint`
- prettier: `npm run prettier`
- Run unit tests: `npm run test`
- Start server: `npm start`

## Steps to Create Database

```
CREATE USER 'userName';
CREATE DATABASE  store-db;
CREATE DATABASE  store-test-db;
```

## Ports
The application runs on port `3000` with database on `5432`.

## Environment variables
```
POSTGRES_HOST=localhost
POSTGRES_DB=store-db
POSTGRES_TEST_DB=store-test-db
POSTGRES_USER=postgres
POSTGRES_PASSWORD=12345
ENV=dev
TOKEN_SECRET=algo720
```

## Token:
- you need token to be added in the auth headers and can be generated by loging in .

## End Points
1-User End Points :

<table>
    <th>
        <tr>
            <td>End Point</td>
            <td>type</td>
            <td>Method</td>
            <td>Need Token</td>
            <td>Description</td>
        </tr>
    </th>
    <tbody>
        <tr>
            <td>/users</td>
            <td>get</td>
            <td>index</td>
             <td>✔</td>
             <td>index all users</td>
        </tr>
        <tr>
            <td>/users/:id</td>
            <td>get</td>
            <td>show</td>
             <td>✔</td>
             <td>show specific user by id</td>
        </tr>
         <tr>
            <td>/users</td>
            <td>post</td>
            <td>create</td>
            <td>❌</td>
            <td>create new user by sending(first_name,last_name,password) in body</td>
        </tr>
        <tr>
            <td>/users/login</td>
            <td>post</td>
            <td>login</td>
            <td>❌</td>
            <td>login to get token by sending(firstname,password) in body</td>
        </tr>
           <tr>
            <td>/users/:id</td>
            <td>delete</td>
            <td>destroy</td>
             <td>✔</td>
             <td>delete specific user by id</td>
        </tr>
    <tbody>
</table>


2-Product End Points :

<table>
    <th>
        <tr>
            <td>End Point</td>
            <td>type</td>
            <td>Method</td>
            <td>Need Token</td>
            <td>Description</td>
        </tr>
    </th>
    <tbody>
        <tr>
            <td>/Products</td>
            <td>get</td>
            <td>index</td>
             <td>❌</td>
             <td>index all products</td>
        </tr>
        <tr>
            <td>/Products/:id</td>
            <td>get</td>
            <td>show</td>
             <td>❌</td>
             <td>show specific product by id</td>
        </tr>
         <tr>
            <td>/Products/category/:cat</td>
            <td>get</td>
            <td>showByCategory</td>
            <td>❌</td>
            <td>show specific product by category</td>
        </tr>
        <tr>
            <td>/Products</td>
            <td>post</td>
            <td>create</td>
            <td>✔</td>
            <td>create new product by sending(name,price,category'optional') in body</td>
        </tr>
           <tr>
            <td>/Products/:id</td>
            <td>delete</td>
            <td>destroy</td>
             <td>✔</td>
             <td>delete specific product by id</td>
        </tr>
    <tbody>
</table>

3-Order End Points :

<table>
    <th>
        <tr>
            <td>End Point</td>
            <td>type</td>
            <td>Method</td>
            <td>Need Token</td>
            <td>Description</td>
        </tr>
    </th>
    <tbody>
        <tr>
            <td>/orders/completed/:id</td>
            <td>get</td>
            <td>showCompletedOrders</td>
            <td>✔</td>
             <td>show completed orders</td>
        </tr>
        <tr>
            <td>/orders/:id</td>
            <td>get</td>
            <td>showCurrentOrder</td>
            <td>✔</td>
             <td>show current orders</td>
        </tr>
        <tr>
            <td>/orders/create</td>
            <td>post</td>
            <td>createOrder</td>
            <td>✔</td>
            <td>create new order</td>
        </tr>
    <tbody>
</table>



3-OrderProducts End Points :

<table>
    <th>
        <tr>
            <td>End Point</td>
            <td>type</td>
            <td>Method</td>
            <td>Need Token</td>
            <td>Description</td>
        </tr>
    </th>
    <tbody>
        <tr>
            <td>/orders/addProduct</td>
            <td>post</td>
            <td>addProduct</td>
            <td>✔</td>
             <td>add product to order</td>
        </tr>
        <tr>
            <td>/orders/deleteProduct</td>
            <td>delete</td>
            <td>destroy</td>
            <td>✔</td>
             <td>delete product from order</td>
        </tr>
       
    <tbody>
</table>





